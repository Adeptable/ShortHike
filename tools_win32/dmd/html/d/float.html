
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!--
	Copyright (c) 1999-2006 by Digital Mars
	All Rights Reserved
	Written by Walter Bright
	www.digitalmars.com
  -->


<!-- Mirrored from www.shorthike.com/trac/browser/trunk/tools_win32/dmd/html/d/float.html?format=raw by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 01 May 2010 04:37:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="keywords" content="D programming language" />
<meta name="description" content="D Programming Language" />
<title>D Programming Language - Floating Point</title>
<link rel="stylesheet" type="text/css" href="style.html" />
<link rel="shortcut icon" href="favicon.html" />
</head>

<body>
<div id="heading">
	<a href="http://www.digitalmars.com/"><img src="dmlogo.html" width="270" height="53" style="border-style:none" alt="www.digitalmars.com"></a>

	<div id="headingNav">
	<ul>	<li><a href="http://www.prowiki.org/wiki4d/wiki.cgi?DocComments/Float" title="Read/write comments and feedback">Comments</a></li>
	<li><a href="index.html" title="D Programming Language" class="dlink">D</a></li>
	<li><a href="http://www.digitalmars.com/advancedsearch.html" title="Search Digital Mars web site">Search</a></li>
	<li><a href="download.html" title="download D">Downloads</a></li>
	<li><a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a></li>
	</ul>
	</div>

	<div id="lastupdate">Last update Tue Jun  6 16:38:20 2006
</div>
</div>

<!-- Generated by Ddoc from float.d -->



<div id="navigation">
  
<div class="navblock">
<form method="get" action="http://www.google.com/search">
<div id="searchbox">
<input id="q" name="q" size="10" value="Search" onFocus='if(this.value == "Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/d">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</div>
</form>
<div id="toctop">
    <ul>	<li><a href="index.html" title="D Programming Language">D ...</a></li>
	<li><a href="lex.html" title="D Language Specification">Language ...</a></li>
	<li><a href="phobos/phobos.html" title="D Runtime Library">Phobos ...</a></li>
	<li><a href="comparison.html" title="Language Comparisons">Comparisons ...</a></li>
    </ul>
</div>
</div>

  
    <div class="navblock">
    <ul>	<li><a href="lex.html">Lexical</a></li>

	<li><a href="module.html">Modules</a></li>

	<li><a href="declaration.html">Declarations</a></li>

	<li><a href="type.html">Types</a></li>

	<li><a href="property.html">Properties</a></li>

	<li><a href="attribute.html">Attributes</a></li>

	<li><a href="pragma.html">Pragmas</a></li>

	<li><a href="expression.html">Expressions</a></li>

	<li><a href="statement.html">Statements</a></li>

	<li><a href="arrays.html">Arrays</a></li>

	<li><a href="struct.html">Structs &amp; Unions</a></li>

	<li><a href="class.html">Classes</a></li>

	<li><a href="interface.html">Interfaces</a></li>

	<li><a href="enum.html">Enums</a></li>

	<li><a href="function.html">Functions</a></li>

	<li><a href="operatoroverloading.html">Operator Overloading</a></li>

	<li><a href="template.html">Templates</a></li>

	<li><a href="mixin.html">Mixins</a></li>

	<li><a href="dbc.html">Contracts</a></li>

	<li><a href="version.html">Conditional Compilation</a></li>

	<li><a href="errors.html">Handling errors</a></li>

	<li><a href="garbage.html">Garbage Collection</a></li>

	<li><a href="float.html">Floating Point</a></li>

	<li><a href="iasm.html">Inline Assembler</a></li>

	<li><a href="ddoc.html">Documentation Comments</a></li>

	<li><a href="interfaceToC.html">Interfacing To C</a></li>

	<li><a href="portability.html">Portability Guide</a></li>

	<li><a href="html.html">Embedding D in HTML</a></li>

	<li><a href="entity.html">Named Character Entities</a></li>

	<li><a href="abi.html">Application Binary Interface</a></li>

    </ul>
    </div>

</div>
<div id="content">
  <h1>     Floating Point</h1>
  
<h3>Floating Point Intermediate Values</h3>

	On many computers, greater
	precision operations do not take any longer than lesser
	precision operations, so it makes numerical sense to use
	the greatest precision available for internal temporaries.
	The philosophy is not to dumb down the language to the lowest
	common hardware denominator, but to enable the exploitation
	of the best capabilities of target hardware.
	<p>

	For floating point operations and expression intermediate values,
	a greater precision can be used than the type of the
	expression.
	Only the minimum precision is set by the types of the
	operands, not the maximum. <b>Implementation Note:</b> On Intel
	x86 machines, for example,
	it is expected (but not required) that the intermediate
	calculations be done to the full 80 bits of precision
	implemented by the hardware.
	<p>

	It's possible that, due to greater use of temporaries and
	common subexpressions, optimized code may produce a more
	accurate answer than unoptimized code.
	<p>

	Algorithms should be written to work based on the minimum
	precision of the calculation. They should not degrade or
	fail if the actual precision is greater. Float or double types,
	as opposed to the extended type, should only be used for:
	<ul>
	    <li> reducing memory consumption for large arrays
	    <li> data and function argument compatibility with C
	</ul>

<h3>Complex and Imaginary types</h3>

	In existing languages, there is an astonishing amount of effort expended in trying to jam a 
	complex type onto existing type definition facilities: templates, structs, operator 
	overloading, etc., and it all usually ultimately fails. It fails because the semantics of 
	complex operations can be subtle, and it fails because the compiler doesn't know what the 
	programmer is trying to do, and so cannot optimize the semantic implementation.
	<p>

	This is all done to avoid adding a new type. Adding a new type means that the compiler 
	can make all the semantics of complex work "right". The programmer then can rely on a 
	correct (or at least fixable <g>) implementation of complex.
	<p>

	Coming with the baggage of a complex type is the need for an imaginary type. An 
	imaginary type eliminates some subtle semantic issues, and improves performance by not 
	having to perform extra operations on the implied 0 real part.
	<p>

	Imaginary literals have an i suffix:

<pre class="d_code"><span class="d_keyword">ireal</span> j = 1.3i;
</pre>

	There is no particular complex literal syntax, just add a real and imaginary type:

<pre class="d_code"><span class="d_keyword">cdouble</span> cd = 3.6 + 4i;
<span class="d_keyword">creal</span> c = 4.5 + 2i;
</pre>

	Complex numbers have two properties:

<pre>
.re	get real part
.im	get imaginary part as a real
</pre>

	For example:

<pre>
cd.re		is 4.5 double
cd.im		is 2 double
c.re		is 4.5 real
c.im		is 2 real
</pre>

<h3>Rounding Control</h3>

	IEEE 754 floating point arithmetic includes the ability to set 4 different rounding modes. 
	These are accessible via the functions in std.c.fenv.

<h3>Exception Flags</h3>

	IEEE 754 floating point arithmetic can set several flags based on what happened with a 
	computation: [blah, blah, blah].
	These flags can be set/reset via the functions in std.c.fenv.

<h3>Floating Point Comparisons</h3>

	In addition to the usual &lt; &lt;= &gt; &gt;= == != comparison
	operators, D adds more that are 
	specific to floating point. These are
	!&lt;&gt;=
	&lt;&gt;
	&lt;&gt;=
	!&lt;=
	!&lt;
	!&gt;=
	!&gt;
	!&lt;&gt;
	and match the semantics for the 
	NCEG extensions to C.

<pre>
Floating point comparison operators 

Operator	Relations	Invalid? 	Description

		&gt; &lt; = ? 

&lt;		F T F F		yes 	less than
&gt;		T F F F		yes 	greater than
&lt;=		F T T F		yes	less than or equal to
&gt;=		T F T F		yes	greater than or equal to 
==		F F T F		no	equal to
!=		T T F T		no	unordered, less than, or greater than
!&lt;&gt;=		F F F T		no	unordered
&lt;&gt;		T T F F		yes	less than or greater than
&lt;&gt;=		T T T F		yes	less than, equal to, or greater than
!&lt;=		T F F T		no	unordered or greater than
!&lt;		T F T T		no	unordered, greater than, or equal to
!&gt;=		F T F T		no	unordered or less than
!&gt;		F T T T		no	unordered, less than, or equal to
!&lt;&gt;		F F T T		no	unordered or equal to
</pre>


  
<br><br>
<br><br>
<!-- Google ad -->
<script type="text/javascript"><!--
/**/google_ad_client = "pub-5628673096434613";
/**/google_ad_width = 728;
/**/google_ad_height = 90;
/**/google_ad_format = "728x90_as";
/**/google_ad_channel ="3651639259";
/**/google_page_url = document.location;
//--></script>
<script type="text/javascript" src="../../../../../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</div>





<div id="copyright">
Copyright &copy; 1999-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>. |
<a href="http://www.prowiki.org/wiki4d/wiki.cgi?DocComments/Float" title="Read/write comments and feedback">Comments</a>
</div>

</body>

<!-- Mirrored from www.shorthike.com/trac/browser/trunk/tools_win32/dmd/html/d/float.html?format=raw by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 01 May 2010 04:37:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
</html>

