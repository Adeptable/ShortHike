
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!--
	Copyright (c) 1999-2006 by Digital Mars
	All Rights Reserved
	Written by Walter Bright
	www.digitalmars.com
  -->


<!-- Mirrored from www.shorthike.com/trac/browser/trunk/tools_win32/dmd/html/d/struct.html?format=raw by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 01 May 2010 04:37:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="keywords" content="D programming language" />
<meta name="description" content="D Programming Language" />
<title>D Programming Language - Structs, Unions</title>
<link rel="stylesheet" type="text/css" href="style.html" />
<link rel="shortcut icon" href="favicon.html" />
</head>

<body>
<div id="heading">
	<a href="http://www.digitalmars.com/"><img src="dmlogo.html" width="270" height="53" style="border-style:none" alt="www.digitalmars.com"></a>

	<div id="headingNav">
	<ul>	<li><a href="http://www.prowiki.org/wiki4d/wiki.cgi?DocComments/Struct" title="Read/write comments and feedback">Comments</a></li>
	<li><a href="index.html" title="D Programming Language" class="dlink">D</a></li>
	<li><a href="http://www.digitalmars.com/advancedsearch.html" title="Search Digital Mars web site">Search</a></li>
	<li><a href="download.html" title="download D">Downloads</a></li>
	<li><a href="http://www.digitalmars.com/" title="www.digitalmars.com">Home</a></li>
	</ul>
	</div>

	<div id="lastupdate">Last update Tue Jun  6 16:38:19 2006
</div>
</div>

<!-- Generated by Ddoc from struct.d -->



<div id="navigation">
  
<div class="navblock">
<form method="get" action="http://www.google.com/search">
<div id="searchbox">
<input id="q" name="q" size="10" value="Search" onFocus='if(this.value == "Search"){this.value="";}'>
<input type="hidden" id="domains" name="domains" value="www.digitalmars.com">
<input type="hidden" id="sitesearch" name="sitesearch" value="www.digitalmars.com/d">
<input type="hidden" id="sourceid" name="sourceid" value="google-search">
<input type="submit" id="submit" name="submit" value="Go">
</div>
</form>
<div id="toctop">
    <ul>	<li><a href="index.html" title="D Programming Language">D ...</a></li>
	<li><a href="lex.html" title="D Language Specification">Language ...</a></li>
	<li><a href="phobos/phobos.html" title="D Runtime Library">Phobos ...</a></li>
	<li><a href="comparison.html" title="Language Comparisons">Comparisons ...</a></li>
    </ul>
</div>
</div>

  
    <div class="navblock">
    <ul>	<li><a href="lex.html">Lexical</a></li>

	<li><a href="module.html">Modules</a></li>

	<li><a href="declaration.html">Declarations</a></li>

	<li><a href="type.html">Types</a></li>

	<li><a href="property.html">Properties</a></li>

	<li><a href="attribute.html">Attributes</a></li>

	<li><a href="pragma.html">Pragmas</a></li>

	<li><a href="expression.html">Expressions</a></li>

	<li><a href="statement.html">Statements</a></li>

	<li><a href="arrays.html">Arrays</a></li>

	<li><a href="struct.html">Structs &amp; Unions</a></li>

	<li><a href="class.html">Classes</a></li>

	<li><a href="interface.html">Interfaces</a></li>

	<li><a href="enum.html">Enums</a></li>

	<li><a href="function.html">Functions</a></li>

	<li><a href="operatoroverloading.html">Operator Overloading</a></li>

	<li><a href="template.html">Templates</a></li>

	<li><a href="mixin.html">Mixins</a></li>

	<li><a href="dbc.html">Contracts</a></li>

	<li><a href="version.html">Conditional Compilation</a></li>

	<li><a href="errors.html">Handling errors</a></li>

	<li><a href="garbage.html">Garbage Collection</a></li>

	<li><a href="float.html">Floating Point</a></li>

	<li><a href="iasm.html">Inline Assembler</a></li>

	<li><a href="ddoc.html">Documentation Comments</a></li>

	<li><a href="interfaceToC.html">Interfacing To C</a></li>

	<li><a href="portability.html">Portability Guide</a></li>

	<li><a href="html.html">Embedding D in HTML</a></li>

	<li><a href="entity.html">Named Character Entities</a></li>

	<li><a href="abi.html">Application Binary Interface</a></li>

    </ul>
    </div>

</div>
<div id="content">
  <h1>     Structs &amp; Unions</h1>
  
<pre class="bnf"><i>AggregateDeclaration</i>:
	<i>Tag</i> <b>{</b> <i>DeclDefs</i> <b>}</b>
	<i>Tag</i> <i>Identifier</i> <i>StructBody</i>
	<i>Tag</i> <i>Identifier</i> <b>;</b>

<i>Tag</i>:
	<b>struct</b>
	<b>union</b>

<i>StructBody</i>:
	<b>{</b> <b>}</b>
	<b>{</b> <i>StructBodyDeclarations</i> <b>}</b>

<i>StructBodyDeclarations</i>:
	<i>StructBodyDeclaration</i>
	<i>StructBodyDeclaration</i> <i>StructBodyDeclarations</i>

<i>StructBodyDeclaration</i>:
	<i>Declaration</i>
	<i>Invariant</i>
	<i>UnitTest</i>
	<i>StructAllocator</i>
	<i>StructDeallocator</i>

<i>StructAllocator</i>:
	<i>ClassAllocator</i>

<i>StructDeallocator</i>:
	<i>ClassDeallocator</i>
</pre>

They work like they do in C, with the following exceptions:

<ul>
	<li> no bit fields
	<li> alignment can be explicitly specified
	<li> no separate tag name space - tag names go into the current scope
	<li> declarations like:

<pre class="d_code"><span class="d_keyword">struct</span> ABC x;
</pre>
	are not allowed, replace with:

<pre class="d_code">ABC x;
</pre>
	<li> anonymous structs/unions are allowed as members of other structs/unions
	<li> Default initializers for members can be supplied.
	<li> Member functions and static members are allowed.
</ul>

Structs and unions are meant as simple aggregations of data, or as a way to paint a  
data structure over hardware or an external type. External types can be defined by 
the operating system API, or by a file format. Object oriented features are 
provided with the class data type.


<h3>Static Initialization of Structs</h3>

	Static struct members are by default initialized to whatever the
	default initializer for the member is, and if none supplied, to
	the default initializer for the member's type.
	If a static initializer is supplied, the
	members are initialized by the member name, 
	colon, expression syntax. The members may be initialized in any order.
	Members not specified in the initializer list are default initialized.

<pre class="d_code"><span class="d_keyword">struct</span> X { <span class="d_keyword">int</span> a; <span class="d_keyword">int</span> b; <span class="d_keyword">int</span> c; <span class="d_keyword">int</span> d = 7;}
<span class="d_keyword">static</span> X x = { a:1, b:2};	      <span class="d_comment">// c is set to 0, d to 7
</span><span class="d_keyword">static</span> X z = { c:4, b:5, a:2 , d:5};  <span class="d_comment">// z.a = 2, z.b = 5, z.c = 4, z.d = 5
</span></pre>

	C-style initialization, based on the order of the members in the
	struct declaration, is also supported:

<pre class="d_code"><span class="d_keyword">static</span> X q = { 1, 2 };	  <span class="d_comment">// q.a = 1, q.b = 2, q.c = 0, q.d = 7
</span></pre>
	

<h3>Static Initialization of Unions</h3>

	Unions are initialized explicitly.

<pre class="d_code"><span class="d_keyword">union</span> U { <span class="d_keyword">int</span> a; <span class="d_keyword">double</span> b; }
<span class="d_keyword">static</span> U u = { b : 5.0 };		<span class="d_comment">// u.b = 5.0
</span></pre>

	Other members of the union that overlay the initializer,
	but occupy more storage, have 
	the extra storage initialized to zero.

<h3>Struct Properties</h3>

<pre>
.sizeof			Size in bytes of struct
.alignof		Size boundary struct needs to be aligned on
</pre>

<h3>Struct Field Properties</h3>

<pre>
.offsetof		Offset in bytes of field from beginning
			of struct
</pre>


  
<br><br>
<br><br>
<!-- Google ad -->
<script type="text/javascript"><!--
/**/google_ad_client = "pub-5628673096434613";
/**/google_ad_width = 728;
/**/google_ad_height = 90;
/**/google_ad_format = "728x90_as";
/**/google_ad_channel ="3651639259";
/**/google_page_url = document.location;
//--></script>
<script type="text/javascript" src="../../../../../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

</div>





<div id="copyright">
Copyright &copy; 1999-2006 by Digital Mars, All Rights Reserved |
Page generated by <a href="http://www.digitalmars.com/d/ddoc.html">Ddoc</a>. |
<a href="http://www.prowiki.org/wiki4d/wiki.cgi?DocComments/Struct" title="Read/write comments and feedback">Comments</a>
</div>

</body>

<!-- Mirrored from www.shorthike.com/trac/browser/trunk/tools_win32/dmd/html/d/struct.html?format=raw by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 01 May 2010 04:37:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8"><!-- /Added by HTTrack -->
</html>

